[{"id":0,"href":"/ns-labs/docs/table-of-contents/raid/","title":"Lab01 RAID 阵列","section":"Table of Contents","content":"Lab01 RAID 阵列 #  实验目的 #  通过 RAID 原理实践理解阵列相关知识\n实验内容 #  本实验通过软件 RAID 管理磁盘：\n 打开“管理工具-计算机管理-存储-磁盘管理”，体验“磁盘管理工具” C 盘扩展卷 检查其它磁盘是否联机，联机并初始化磁盘  尝试创建跨区卷并存储部分数据 尝试创建镜像卷并存储部分数据 尝试创建 RAID5 卷并存储部分数据   通过设备管理禁用其中一块磁盘，模拟磁盘损坏。观察有什么情况发生，数据是否损坏或者丢失 [选做] 自行设计与扩展，体会 RAID 0 1 5 10 等方案下，在遇到磁盘损坏故障、冗余备份的效果等 [选做] 思考题：  为什么及在什么条件下选择用 RAID RAID \u0026amp; 分布式存储 \u0026amp; 集中存储的区别    请在 10 月 11 日中午 12：00 前提交至云平台，命名为：lab01-学号-姓名.pdf，如 lab01-18373722-朱英豪.pdf。\n实验指南 #  通过实验平台获取虚拟机，通过远程桌面访问获取的虚拟机的 IP 地址（ipv4），用户名密码通过实验平台获取。\n按要求完成实验，撰写实验报告（每种配置都做一遍），以下为样例的 IP 和云平台默认分配的用户名、密码。\n登录IP：10.200.200.155 # 请到云平台上查看自己所分配到的虚拟机的 IP 地址 登录用户名：Administrator # 注意在连接虚拟机时需要指定用户名，不是 admin 登录密码：@buaa21 # 记得改密码，防止被别人登 分配磁盘时不宜过大，1 G 足矣，可选择使用“快速格式化”，提高实验速度。\n如何连接虚拟机 #   在 Windows 中可使用“远程桌面连接”工具——win+R 打开“运行”，然后输入 mstsc，然后在弹出窗口中输入 IP、账号、密码即可。 在 MacOS 上可使用 Parallels 等工具连接  注意：\n云平台上没有显示虚拟机 IP 或显示的 IP 无法登录怎么办？首先，可以用来登录的 IP 位于 10.251.252.1~10.251.255.254 之间。\n 如果未登录过实验虚拟机：云平台上显示的 IP 是 169 或者无 IP 则暂时无法登录，需要重启虚拟机重新获取 IP。需要注意的是，虚拟机的重启、以及 DHCP IP 的获取都需要时间，开机后应等待 3 分钟以上，请勿频繁开关机 如果之前登录过实验虚拟机：云平台上显示的是 192 开头的 IP 或者无 IP，可以尝试使用之前的可用 IP 进行登录。如果无法登录（包括密码错误），请联系助教解决。  可能出现“发生身份验证错误，要求的函数不受支持”的错误，请参考该 博客，使用解决方案一：配置本地机的组策略。\n Win+R 在弹出的“运行”框中，输入 gpedit.msc 进入到：计算机配置-\u0026gt;管理模板-\u0026gt;系统-\u0026gt;凭据分配-\u0026gt;加密数据库修正-\u0026gt;启动该策略，将保护层级设置为“易受攻击\u0026quot;。  重要提醒：\n由于分配的 IP 均为 DHCP 自动获取，有可能实验虚拟机的 IP 会发生变化，尤其是在长时间关机再开启后。因此请登录实验虚拟机后，及时更改虚拟机密码，以避免以下情况发生：\n 未意识到登录了他人的虚拟机， 帮助别人完成了实验工作 自己的虚拟机被别人登录，已经做完的实验被破坏  同时，虚拟机密码请设置非常用敏感密码。因为助教在帮助大家解决问题时往往需要你的密码登录到你的虚拟机。\n自行配置环境 #  你也可以自己在 VMware 等虚拟机中安装 Windows Server 2019 (或其他版本)，不使用云平台的资源去做实验。可至 Next, ITELLYOU 该网站上去下载相关系统的 ISO 镜像，本课程网站上的“Resources”区，给出了其 ED2K 的下载链接以及 KMS 激活方法。\n参考作业提交的 Markdown 模板 #  # Lab01 RAID 阵列 \u0026gt; 班级： \u0026gt; 学号： \u0026gt; 姓名：  ## 实验内容  ### 体验“磁盘管理工具”  ### C 盘扩展卷  ### 检查其它磁盘是否联机，联机并初始化磁盘  - 尝试创建跨区卷并存储部分数据 - 尝试创建镜像卷并存储部分数据 - 尝试创建 RAID5 卷并存储部分数据 ### 通过设备管理禁用其中一块磁盘，模拟磁盘损坏。 \u0026gt; 观察有什么情况发生，数据是否损坏或者丢失  ## 实验感想 "},{"id":1,"href":"/ns-labs/docs/resources/os/","title":"操作系统","section":"Resources","content":"操作系统 #  常见操作系统 ISO 镜像可至官网、 MSDN，我告诉你、 Next, ITELLYOU 等网站上去下载。\nWindows Server 2019 #  ED2K 下载：ed2k://|file|cn_windows_server_2019_updated_july_2020_x64_dvd_2c9b67da.iso|5675251712|19AE348F0D321785007D95B7D2FAF320|/\n使用 KMS 激活方式如下：\n# 使用管理员身份打开PowerShell DISM /online /Set-Edition:ServerDatacenter /ProductKey:WMDGN-G9PQG-XVVXX-R3X43-63DFG /AcceptEula # 打开 CMD (管理员) slmgr.vbs /ipk WMDGN-G9PQG-XVVXX-R3X43-63DFG slmgr.vbs /skms kms.teevee.asia slmgr.vbs /ato "},{"id":2,"href":"/ns-labs/docs/table-of-contents/virtual/","title":"Lab02 虚拟化实验","section":"Table of Contents","content":"Lab02 虚拟化实验 #  实验目标 #   实施计算虚拟化，安装配置环境，熟悉计算虚拟化的概念，理解基本操作，掌握基础知识。 理解集中管理对于虚化的作用，通过部署集中vCenter体验集群的设置，分布式交换机的设置，了解主机从不同网络进行迁移的实际需求。  实验内容 #   按照实验指南的指导，完成实验。 按照实验报告模板，撰写实验报告，将重要的实验步骤截图，填入实验报告中，并回答相应问题。  实验可以在分配的虚拟机中进行，也可以在本地机器中进行。（如果本地机器内存大于12G，则建议在本地进行，以获得更流畅的实验体验）。在本地进行实验的同学，可以前往 这里下载需要的资源；使用云平台虚拟机的同学，相应的资源已经放到了虚拟机桌面上。\n请在云平台作业提交截止时间之前，将作业提交到云平台，命名为：lab02-学号-姓名.pdf，如 lab02-18373722-朱英豪.pdf。\n前情提要 #  推荐开始试验前，首先查看 资源文件夹中的”虚拟化实验.pptx“。\n有任何问题，请首先阅读 FAQ\n如果还有问题，还可尝试阅读 官方文档（如下图所示，请注意选择正确的版本号）\n  Hypervisor #  我们知道，一台计算机一般有以下的结构：\n操作系统负责管理硬件资源（CPU，内存，硬盘等），并向上提供相应的系统调用，供具体的应用程序使用。\n而我们平常提到的操作系统的虚拟化，本质上就是要模拟出一套硬件（包括虚拟CPU，虚拟内存，虚拟硬盘等），然后在这一套虚拟的硬件的基础上部署客户操作系统。客户操作系统完全不需要做任何修改，即可在这个“虚拟的机器”中顺利执行。但客户操作系统的运行结果（比如接收键盘输入，输出图像和声音等），最终都是要靠原始的“实实在在”的硬件（物理机）来完成的。也就是说，需要有那么一个结构，能够将这个“虚拟的机器”的行为翻译到物理机的行为（比如将虚拟CPU的指令翻译到物理机的CPU指令）。负责做这件事情的结构被称为Hypervisor，又称为虚拟机监控器（virtual machine monitor，缩写为 VMM）。\n根据工作方式的不同，Hypervisor分为以下两种。\n 第一种是我们比较熟悉的情况，本质上就是在主操作系统（Host Operating System）上安装了一个虚拟化软件，它来负责充当虚拟机的管理者，并通过主操作系统的系统调用来完成对物理机硬件的使用。VMware Workstation、Virtual Box、Qemu等都属这类虚拟化软件。除了这个虚拟化软件之外，主操作系统上还会运行其他“正常”的应用程序，比如，你在用VMware Workstation的同时还能听歌聊天等。\n第二种Hypervisor则直接舍弃了主操作系统（因为毕竟隔着一层，性能会有损失），而是直接把Hypervisor部署在硬件上。在这种情况下，物理机变成了更纯粹的“为虚拟化而生”的机器。Hypervisor能够直接与硬件沟通，其实在某种程度上也承担了主操作系统的角色（管理硬件），因此，我们也可以把这种Hypervisor看作是一种为虚拟化特制的操作系统。这其中典型的就是VMware ESXi。\n因为我们不可能要求每位同学都制备一套硬件来安装学习VMware ESXi，所以需要首先使用VMware Workstation来模拟出一套硬件。但VMware Workstation仅仅起一个前置作用，在实际的实验中并不会涉及到。请大家首先理清这层关系。\n实验指南 #  0. 安装VMware Workstation #  使用分配的虚拟机的桌面上的安装包安装即可。\n安装完成后需重启机器。\n打开VMware Workstation时， 选择试用即可。\n 1. 安装VMware ESXi #  使用桌面上的ESXi镜像创建虚拟机。\n注意选择客户操作系统的类型。   虚拟机创建完成后，直接打开电源即可启动ESXi操作系统的安装流程，这一过程可能需要等待较长时间。\n安装流程中总是保持默认选项即可。\n在此流程中，可能需要使用使用到某些快捷键，这些快捷键可能会首先被你本机的操作系统捕获，在本机的系统设置中暂时屏蔽该快捷键即可。  请务必牢记设置的root密码。   安装完成后，可以看到如下界面。\n 可以看到，ESXi系统获得了一个IPv4地址192.168.80.128，并且这个地址是通过DHCP的方式获得的。这里用到的DHCP服务器其实是VMware Workstation内置的。也就是说，192.168.80.128这个地址只有在安装VMware Workstation的机器上才是有效的。\n2. 访问ESXi #  一般情况下，可以使用桌面客户端VMware vSphere Client作为“Client”和ESXi（作为“Server”）通信。\nVMware vSphere Client使用如下图所示的安装包安装即可。\n 安装完成后，打开vSphere Client，填入ESXi的IP地址、root的用户名和密码后即可建立起与ESXi的连接。\n如果弹出安全证书警告，直接忽略即可。   除了桌面客户端，也可以直接使用浏览器访问。访问的地址就是ESXi的地址，用户名和密码与vSphere Client的相同。\n 如下图所示，可以为ESXi分配许可证。\n可用的KEY：\n4F092-DML5N-H8E20-4HC54-17K4D 1G2J8-4K097-48DU1-HH3G2-C6H60 4V4JR-40317-H88H1-83ANP-23H76 1G002-DRK5J-08429-K035K-0KK16 NY01K-AP343-M89H8-WJ9EK-2VK1F 1F29K-4W14M-H8099-PA8X2-9KUHD  后续实验内容可以在Web端进行，也可以在vSphere Client桌面客户端进行。\n3. 观察和体验vSphere Client提供的功能 #  Client侧界面主要包含导航器、主体内容和任务事件这三部分。\n 请浏览左侧导航栏的不同模块和不同模块下不同选项卡的内容，对ESXi提供的功能有个大致的了解。\n其中，存储部分可以查看ESXi虚拟机可访问的数据内容。\n 可以通过使用“数据存储浏览器”查看、下载、上传、下载“存储”中的文件。\n4. 资源池 #  资源池可以实现对CPU和内存的池化管理。\n尝试在vSphere Client中新建资源池。\n 理解资源池“预留”和“限制”的含义。\n 5. 新建和安装虚拟机 #  ESXi最主要的功能就是对虚拟机的管理。\nvSphere Client和Web端都有显著的入口供用户创建虚拟机。\n  创建虚拟机的流程与使用VMware Workstation创建虚拟机没有太大区别，按照创建向导进行即可。\n在创建过程的“自定义设置”阶段，需要手动配置CD/DVD驱动器，插入桌面上的CentOS或Tiny Core Linux的安装镜像，以使虚拟机在开机时，能自动进入安装镜像的安装引导界面。\n 当然，你也可以在虚拟机创建完成后，打开电源之前，手动编辑虚拟机配置，添加对应的镜像文件。\n 完成后，打开虚拟机电源，即可进入操作系统的安装引导流程。\n6. 虚拟机文件系统格式和种类 #  添加虚拟机后，可以在“存储”中看到每台虚拟机中包含的文件内容。\n 了解这些不同格式的文件和含义和作用。\n7. 虚拟机导出 #  关闭虚拟机电源后，即可将虚拟机导出。\n 观察导出文件格式与虚拟机正常文件的区别。\n8. VMware Tools（选做） #  可以在如下图所示的虚拟机控制台的“操作”选项中找到“安装VMware Tools”的选项。\n 点击“安装VMware Tools”后，ESXi会给虚拟机挂载一个包含了安装脚本的光盘。根据安装的操作系统的不同，具体的安装方式也有区别。对于Linux系统，可以在/dev目录下找到该光盘，并将其挂载到文件系统中，然后进入其中，执行安装脚本。\n9. 角色和用户（选做） #  可以在Web端创建不同的角色和用户，根据角色的不同，用户将获得不同的权限。尝试使用不同的用户账号登录Client，以体验权限限制带来的差异。\n 10. 创建与配置虚拟机（选做） #  后面这两部分实验内容比较复杂，实验环境也不是特别理想，有兴趣的同学可以选择尝试。\n在上面的实验中，我们进行了ESXi的部署，并使用ESXi创建了一些虚拟机。在实际应用中，往往需要多个ESXi主机组成集群，来提供更多的资源，或者提高可用性。在接下来的实验中，我们将使用vCenter Server管理多个ESXi主机，来管理所有的虚拟机和ESXi“物理机”集群。\n  在VMware Workstation中新建一个新的ESXi虚拟机。该虚拟机内存可以给大一些，比如14G，磁盘大小也可以大一些，比如100G。以方便后续在其上安装vCenter Server。\n可以在VMware Workstation中给机器开大内存和大容量磁盘。\n因为内存和磁盘是虚拟的，所以即使本机物理内存和磁盘容量不够，也把握得住。\n如果后续实验中，确实出现了内存或磁盘容量不够的情况，请联系助教扩容。\n   安装打开vCenter Server安装包VMware-VIM-all-6.5.0-4602587.iso，在本机（或虚拟机）中装载该ISO文件，可以看到README文件，其中包含着具体的安装指引。之后的安装步骤，如无特殊说明，无需改动默认选项，直接下一步即可   我们刚刚启动的只是一个安装器程序，vCenter Server本质上还是要安装在一个特定的ESXi主机中。所以，在选择安装目标时，需要填入刚才新建的那个内存和磁盘容量都比较大的ESXi虚拟机的相关信息。   在最后的网络配置这里，选择DHCP   安装完成后，浏览器访问虚拟机地址或者使用vSphere Client均可访问到vCenter。\n  创建数据中心。\n  添加主机。把本次实验创建的两个ESXi主机都添加进去。在添加主机时会弹出安全警示，选择“是”继续添加即可。   11. 分布式交换机（选做） #  默认情况下，两台主机中的虚拟机之间的网络是不通的。这很显然不符合我们的需求——搭建集群的主要目的就是为了整合不同主机的资源，虚拟机对其在哪个主机上应该是无感的。\n因此，就需要使用分布式交换机，将两个或多个主机的网络连通起来。\n感兴趣的同学，可以查找相关资料，在配置好的集群上，创建分布式虚拟交换机。并分别在不同的主机上部署虚拟机，实现它们之间的网络互通。\n实验报告模板 #  # Lab02 虚拟化实验 \u0026gt; 班级： \u0026gt; 学号： \u0026gt; 姓名：  --- ## 实验内容  ### 1. 安装VMware ESXi  ### 2. 访问ESXi  #### ESXi分配许可证  ### 3. 观察和体验vSphere Client提供的功能  ### 4. 资源池  #### “预留”和“限制”  ### 5. 新建和安装虚拟机  ### 6. 虚拟机文件系统格式和种类  #### 不同格式的文件和含义和作用  ### 7. 虚拟机导出  #### 导出文件格式与虚拟机正常文件的区别  ### 8. VMware Tools（选做）  ### 9. 角色和用户（选做）  ### 10. 创建与配置集群（选做）  ### 11. 分布式虚拟交换机（选做）  ## 实验总结与心得  "},{"id":3,"href":"/ns-labs/docs/table-of-contents/faq/","title":"FAQ","section":"Table of Contents","content":"FAQ #  如何登录实验虚拟机 #  在云平台中查看虚拟机访问IP、账户以及密码\nWindows win+R 打开“运行”，然后输入mstsc，然后在弹出窗口中输入IP、账号、密码即可 MacOS（Linux？）   Parallels Client Microsoft Remote Desktop （有Bug——或者说是Feature——无法使用macOS本地工具截图） VMware Fusion   云平台上没有显示虚拟机IP或显示的IP无法登录怎么办 #  可以用来登录的IP位于10.251.252.1~10.251.255.254之间\n  如果未登录过实验虚拟机\n 云平台上显示的IP是169或者无IP则暂时无法登录，需要重启虚拟机重新获取IP。需要注意的是，虚拟机的重启、以及DHCP IP的获取都需要时间，开机后应等待3分钟以上，请勿频繁开关机    如果之前登录过实验虚拟机\n 云平台上显示的是192开头的IP或者无IP，可以尝试使用之前的可用IP进行登录。如果无法登录（包括密码错误），请联系助教解决。    重要提醒 #  由于分配的IP均为DHCP自动获取，有可能实验虚拟机的IP会发生变化，尤其是在长时间关机再开启后。因此请登录实验虚拟机后，及时更改虚拟机密码，以避免以下情况发生：\n 未意识到登录了他人的虚拟机， 帮助别人完成了实验工作 自己的虚拟机别别人登录，已经做完的实验被破坏  同时，虚拟机密码请设置非常用敏感密码。因为助教在帮助大家解决问题时往往需要你的密码登录到你的虚拟机。\n用到的安装包、镜像文件如何获取 #    Workstation安装包(Mware-workstation-full-14.1.3-9474260.exe)、ESXi镜像(VMware-VMvisor-Installer-6.5.0-4564106.x86_64-Dell_Customized-A00.iso)、TinyOS镜像(Core-10.1.iso)以及可选使用的CentOS镜像(CentOS-7-x86_64-Minimal-1908.iso)均放在了实验虚拟机桌面上，可以直接使用。\n  vSphere Client安装包可以在 课程中心下载（推荐此方式）或在 临时的资源存放网站下载。\n  同时，所需的资源文件都在 临时的资源存放网站存有备份\n  Workstation与ESXi在本实验中的用处 #  Workstation是用来安装ESXi的。安装ESXi成功后，只要保证Workstation正常运转即可，后续的实验都是通过vSphere (Web) Client在ESXi中完成的\n安装workstation时报错的解决方法（关于 .net framework的错误） #   打开浏览器登录校园网验证，连接网络之后会自动安装补丁修复此错误。\n如何在workstation中载入ESXi镜像 #   在workstation中，创建虚拟机时   载入workstation后界面无反应/鼠标消失怎么办 #  workstation中的虚拟机是会占用鼠标的，按ctrl+alt即可将鼠标焦点从workstation虚拟机中移出。如果安装程序超过2分钟还没有自动启动，重启workstation中的ESXi虚拟机\n安装ESXi时的IP如何配置 #  ESXi的IP不需要特殊配置，使用DHCP分配的动态IP即可。请注意，此IP只在虚拟机中可以有有效访问\n如何登录vSphere Client #  安装 vSpehre Client成功后，打开vSphere Client，输入ESXi显示的IP，以及安装ESXi过程中设置的账号密码即可登录。\n使用web client还是传统的本地client #  本次实验大部分操作要求在本地client中完成。如果遇到本地client无法完成的操作，则要登录web client完成\n访问web client时报错的解决方法 #   按ESC键忽略此错误即可\n创建用户时提示“用户名或密码格式无效”的解决方法 #  密码要求包含数字、大小写字母以及符号，缺一不可\n关于进行虚拟机设置时，使用vSphere Client提示“无法使用vSphere Client编辑版本为12或更高版本的虚拟机的设置”的解决方法 #  1、创建虚拟机时，第一个页面“配置”不选择“典型”，选择“自定义”，并在“虚拟机版本”处选择虚拟机版本11或以下版本。 2、使用Web客户端登录ESXi管理页面，在虚拟机浏览器中输入ESXi地址即可访问。 以上两种方法使用一种即可。\n开启虚拟机电源后，打开本地vSphere Client的虚拟机控制台显示黑屏 #  换用Web客户端访问。\n安装虚拟机操作系统时显示找不到OS #   确保连接了正确的镜像文件 确保虚拟光驱的状态为“已连接”（可在设置中更改）  一般可以自动检测，无需进入BIOS调整启动顺序或手动选择启动选项，但如果排查过上面的情况仍然无法安装操作系统，可以手动进入BIOS更改一下引导选项。\n虚拟机无法连接外网 #   确保设置了正确的DNS、已经通过gw认证登录 如果无法访问认证页面，可以在控制面板\\网络和 Internet\\网络连接中查看是否有多余的网卡（不包括VMware Network Adapter），查看这些网卡的IP，将多余的网卡禁用（注意不要禁用错了，要保留IP地址与远程登录地址相同的网卡）  "},{"id":4,"href":"/ns-labs/docs/table-of-contents/","title":"Table of Contents","section":"Docs","content":"你好，网存！ #  欢迎来到网络存储的实验课堂！\n目录 #  实验目录可见左侧边栏\n"},{"id":5,"href":"/ns-labs/docs/resources/","title":"Resources","section":"Docs","content":"课程相关资源 #  此处存放了课程相关资源，如系统 ISO 镜像和各种软件的下载地址。\n"}]